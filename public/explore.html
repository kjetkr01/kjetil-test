<!DOCTYPE html>
<html>

<head>
   <title>Utforsk</title>

   <meta charset="utf-8" />

   <!-- manifest -->

   <link rel="manifest" href="manifest.json">

   <meta name="mobile-web-app-capable" content="yes">
   <meta name="apple-mobile-web-app-capable" content="yes">
   <meta name="application-name" content="Treningsstatistikken">
   <meta name="apple-mobile-web-app-title" content="Treningsstatistikken">
   <meta name="msapplication-starturl" content="/">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0">

   <link rel="icon" type="image/png" sizes="192x192" href="images/appIcon.png">
   <link rel="apple-touch-icon" type="image/png" sizes="192x192" href="images/appIcon.png">

   <!-- -->

   <!-- splashscreen for ios -->

   <link href="images/splashscreens/iphone5_splash.png"
      media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/iphone6_splash.png"
      media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/iphoneplus_splash.png"
      media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/iphonex_splash.png"
      media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/iphonexr_splash.png"
      media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/iphonexsmax_splash.png"
      media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/ipad_splash.png"
      media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/ipadpro1_splash.png"
      media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/ipadpro3_splash.png"
      media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image" />
   <link href="images/splashscreens/ipadpro2_splash.png"
      media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image" />

   <!-- -->

   <!-- status bar color -->

   <meta id="themeColor" name="theme-color" content="#357F9B">
   <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

   <!-- -->

   <link rel="stylesheet" href="styles/global/globalVariables.css">
   <link rel="stylesheet" href="styles/global/globalClasses.css">
   <link rel="stylesheet" href="styles/global/global.css">

   <link rel="stylesheet" href="styles/global/themes.css">


   <link rel="stylesheet" href="styles/explore/desktop.css">
   <link rel="stylesheet" href="styles/explore/mobile.css">
   <link rel="stylesheet" href="styles/explore/common.css">

   <link rel="stylesheet" href="styles/shared/overlay.css">
   <link rel="stylesheet" href="styles/shared/footer.css">

   <link rel="stylesheet" href="styles/explore/exploreBadge.css">

   <script src="sw.js" type="module"></script>

   <script src="ts_application.js" type="text/javascript"></script>
   <script src="scripts/global/appInfo.js" type="text/javascript"></script>
   <script src="scripts/global/user.js" type="text/javascript"></script>
   <script src="scripts/global/global.js" type="text/javascript"></script>
   <script src="scripts/global/functions.js" type="text/javascript"></script>
   <script src="scripts/shared/overlay.js" type="text/javascript"></script>

</head>

<body>

   <script>
      useHTTPS();
      createUserClass();
      changeColorTheme();
   </script>

   <div id="TSAlertOverlay" style="display: none;" class="overlay noselect"></div>

   <section id="page">

      <div id="c1r1"></div>
      <div id="c2r1"></div>
      <div id="c3r1"></div>

      <div id="Gtitle">
         <p id="title" class="noselect">
            Utforsk
         </p>
      </div>

      <div id="Ginformation">
         <p id="information" class="noselect">
            Her kan du utforske og finne for eksempel andre brukere.
         </p>
      </div>

      <div id="Gline">
         <hr id="line" class="noselect">
      </div>

      <div id="GexplorationList">
         <div id="explorationList" class="noselect">
         </div>
      </div>

   </section>

   <footer>
      <svg id="feed" class="icons iconsFooterDefaultColor" draggable="false" onclick="redirectToFeed();"
         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33.5 33.4">
         <g id="Layer_2" data-name="Layer 2">
            <g id="Layer_1-2" data-name="Layer 1">
               <rect class="cls-1" x="1.75" y="1.75" width="30" height="30" rx="6" />
               <path class="cls-1"
                  d="M21.47,9.49c0,.06-.23.11-.5.11H9.47c-.28,0-.5,0-.5-.11s.22-.11.5-.11H21C21.24,9.38,21.47,9.43,21.47,9.49Z" />
               <path class="cls-1"
                  d="M18.47,15.45c0,.06-.23.11-.5.11H9.47c-.28,0-.5-.05-.5-.11s.22-.12.5-.12H18C18.24,15.33,18.47,15.39,18.47,15.45Z" />
            </g>
         </g>
      </svg>

      <svg id="explore" class="icons iconsFooterActiveColor" draggable="false" onclick="redirectToExplore();"
         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
         <path
            d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z" />
      </svg>

      <svg id="account" class="icons iconsFooterDefaultColor" draggable="false" onclick="redirectToAccount();"
         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33.5 33.5">
         <g id="Layer_2" data-name="Layer 2">
            <g id="Layer_1-2" data-name="Layer 1">
               <circle class="icons iconsFooterDefaultColor" cx="16.75" cy="16.75" r="15" />
               <circle class="icons iconsFooterDefaultColor" cx="16.75" cy="10.95" r="4.46" />
               <path class="icons"
                  d="M7.83,23.25a3.05,3.05,0,0,1,.56-1.48,3.52,3.52,0,0,1,1-.86,12.08,12.08,0,0,1,2.12-1.16,16.64,16.64,0,0,1,4.89-1.07c.62,0,7.27-.18,8.93,3.43a4,4,0,0,1,.33,1.14,10.75,10.75,0,0,1-3.22,3.14A11.54,11.54,0,0,1,16.75,28a10.78,10.78,0,0,1-3.37-.54,10.64,10.64,0,0,1-1.85-.82,11.49,11.49,0,0,1-1.65-1.18A12.67,12.67,0,0,1,7.83,23.25Z" />
            </g>
         </g>
      </svg>

      <p id="footerInfo" class="noselect"></p>
   </footer>

</body>

<script>

   const EexploreElements = {
      "Ledertavler": {
         "redirect": "redirectToLeaderboards();",
         "description": "Ledertavler beskrivelse<br>newline",
         "color": "color1G",
         "internetDependent": true
      },
      "Brukere": {
         "redirect": "redirectToFeed();",
         "description": "Brukere beskrivelse",
         "color": "",
         "internetDependent": true
      },
      "Treningsplaner": {
         "redirect": "redirectToFeed();",
         "description": "Treningsplaner beskrivelse",
         "color": "",
         "internetDependent": true
      },
      "Test1": {
         "redirect": "redirectToFeed();",
         "description": "Test beskrivelse",
         "color": "test",
         "internetDependent": false
      },
      "Test2": {
         "redirect": "redirectToFeed();",
         "description": "Test beskrivelse",
         "color": "test2",
         "internetDependent": false
      },
      "Test3": {
         "redirect": "redirectToFeed();",
         "description": "Test beskrivelse",
         "color": "test3",
         "internetDependent": false
      }
   }

   const EexploreElementsKeys = Object.keys(EexploreElements);

   for (let i = 0; i < EexploreElementsKeys.length; i++) {
      const name = EexploreElementsKeys[i];
      const current = EexploreElements[EexploreElementsKeys[i]];

      const explorationList = document.getElementById("explorationList");

      if (current.internetDependent === true && !navigator.onLine) {
         current.color = "disabledG"
         current.redirect = `showAlert('${name} krever Internett-forbindelse.', true);`;
      }

      explorationList.innerHTML += exploreBadge(name, current);
   }

   function exploreBadge(aName, aInfo) {

      const name = aName;
      const info = aInfo;

      const color = info.color || "default";

      const badgeTemplate = `
      <div style="display:inline-block;">
<div class="exploreBadge ${color} pointer" onClick="${info.redirect}">

<!--
<div id="c1b"></div>
<div id="c2b"></div>
<div id="c3b"></div>
-->

<div id="GexploreName">
<p id="exploreName">
${name}
</p>
</div>

<div id="GexploreDescription">
<p id="exploreDescription">
${info.description}
</p>
</div>

</div>
<div>
`;

      return badgeTemplate;
   }

   getTSAlertOverlay();

   if (user) {

      checkConnection();

      setInterval(() => {
         checkConnection();
      }, 1000);
   }

</script>

</html>