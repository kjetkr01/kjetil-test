<!DOCTYPE html>
<html>

<head>
   <title>Hjem</title>

   <meta charset="utf-8" />

   <!-- manifest -->

   <link rel="manifest" href="manifest.json">

   <meta name="mobile-web-app-capable" content="yes">
   <meta name="apple-mobile-web-app-capable" content="yes">
   <meta name="application-name" content="Treningsstatistikken">
   <meta name="apple-mobile-web-app-title" content="Treningsstatistikken">
   <meta name="msapplication-starturl" content="/">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0">

   <link rel="icon" type="image/png" sizes="192x192" href="images/appIcon.png">
   <link rel="apple-touch-icon" type="image/png" sizes="192x192" href="images/appIcon.png">

   <!-- -->

   <!-- status bar color -->

   <meta id="themeColor" name="theme-color" content="#357F9B">
   <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

   <!-- -->

   <link rel="stylesheet" href="styles/globalVariables.css">
   <link rel="stylesheet" href="styles/globalClasses.css">
   <link rel="stylesheet" href="styles/global.css">
   <link rel="stylesheet" href="styles/themes/default.css">


   <link rel="stylesheet" href="styles/index/desktop.css">
   <link rel="stylesheet" href="styles/index/mobile.css">
   <link rel="stylesheet" href="styles/index/common.css">

   <link rel="stylesheet" href="styles/index/badges.css">
   <!--<link rel="stylesheet" href="styles/index/progressbar.css">-->


   <script src="scripts/global.js" type="text/javascript"></script>
   <script src="scripts/script.js" type="text/javascript"></script>

</head>

<body>

   <section id="page">

      <div id="c1r1"></div>
      <div id="c2r1"></div>
      <div id="c3r1"></div>
      <div id="c4r1"></div>
      <div id="c5r1"></div>
      <div id="c6r1"></div>

      <div id="c1r2"></div>
      <div id="c2r2"></div>
      <div id="c3r2"></div>
      <div id="c4r2"></div>
      <div id="c5r2"></div>
      <div id="c6r2"></div>

      <div id="Gtitle">
         <p id="title" class="noselect">
         </p>
      </div>

      <div id="Gname">
         <p id="name" class="noselect">
         </p>
      </div>

      <div id="GsmallTitle">
         <p id="smallTitle" class="noselect">
            Din fremgang
         </p>
      </div>

      <div id="Gbadges">

         <div id="badges">

            <div id="badge1" class="bigBadges"
               style="background: linear-gradient(to right bottom, #E36262, #972F2F); box-shadow: 6px 6px rgba(151,47,47, 0.4);">



               <!--
            <div id="c1b"></div>
            <div id="c2b"></div>
            <div id="c3b"></div>
            <div id="c4b"></div>
            <div id="c5b"></div>
            <div id="c6b"></div>
            -->





            </div>

         </div>

      </div>

      <div id="Gtoday">
         <p id="today" class="noselect">
         </p>
      </div>

      <div id="Gline">
         <hr id="line" class="noselect">
      </div>

      <div id="GpeopleWorkoutTxt">
         <p id="peopleWorkoutTxt" class="noselect">
            I dag trener 50 personer
         </p>
      </div>

      <div id="GpeopleWorkoutList">
         <p id="peopleWorkoutList" class="noselect">
         </p>
      </div>

      <div id="Gfeed">
         <img id="feed" draggable="false" class="icons" src="images/feedIconActive.svg" alt="Feed">
         </img>
      </div>

      <div id="Gleaderboards">
         <img id="leaderboards" draggable="false" class="icons" src="images/leaderboardsIcon.svg" alt="Leaderboards">
         </img>
      </div>

      <div id="Gaccount">
         <img id="account" draggable="false" class="icons" src="images/accountIcon.svg" alt="Account">
         </img>
      </div>

   </section>

</body>

<script>

   if (userDisplayname) {
      const partOfDayMsg = partOfDayMessage(userDisplayname);
      const titleDom = document.getElementById("title");
      const nameDom = document.getElementById("name");

      if (partOfDayMsg.message && partOfDayMsg.firstName) {
         titleDom.textContent = partOfDayMsg.message;
         nameDom.textContent = partOfDayMsg.firstName;
      } else {
         titleDom.textContent = partOfDayMsg.message;
      }
   }

   currentDayInfo();
   function currentDayInfo() {

      const todayDom = document.getElementById("today");

      const todayDate = new Date();
      const option = { weekday: "long", month: "long", day: "numeric" };
      todayDate.toLocaleDateString("no-NB", option);

      //todayDom.textContent = "Tirsdag, 5. Januar";

      let dateFormat = todayDate.toLocaleDateString("no-NB", option);

      let splitDateFormat = dateFormat.split(" ");

      let fixedDateFormat = "";

      for (let i = 0; i < splitDateFormat.length; i++) {

         function upperCaseFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
         }

         function lowerCaseAllWordsExceptFirstLetters(string) {
            return string.replace(/\S*/g, function (word) {
               return word.charAt(0) + word.slice(1).toLowerCase();
            });
         }

         fixedDateFormat += upperCaseFirstLetter(lowerCaseAllWordsExceptFirstLetters(splitDateFormat[i])) + " ";

      }

      fixedDateFormat = fixedDateFormat.split(" ");

      if (fixedDateFormat[0] && fixedDateFormat[1] && fixedDateFormat[2]) {
         todayDom.textContent = `${fixedDateFormat[0]}, ${fixedDateFormat[1]} ${fixedDateFormat[2]}`;
      } else {
         todayDom.textContent = dateFormat;
      }



   }

   /*
      const numb = document.getElementById("percentNum");
      let counter = 0;
      let max = 23;
   
      setInterval(() => {
         if (counter === 100 || counter >= max) {
            clearInterval();
           
         } else {
            counter += 1;
            numb.textContent = counter + "%";
         }
      }, 20);
   */

   const bigBadge = false;

   const Gbadges = document.getElementById("badges");

   if (bigBadge === true) {

      const html = `
      <div id="badge1" class="bigBadges"
            style="background: linear-gradient(to right bottom, #E36262, #972F2F); box-shadow: 6px 6px rgba(151,47,47, 0.4);">



            <!--
            <div id="c1b"></div>
            <div id="c2b"></div>
            <div id="c3b"></div>
            <div id="c4b"></div>
            <div id="c5b"></div>
            <div id="c6b"></div>
            -->


<div id="Gprogression">


<div class="circular">
   <div class="inner" style="background-color: #E36262;">
   </div>
   <div class="outer">
   </div>
   <div id="percentNum" class="numb">
      0%</div>
   <div class="circle">
      <div class="dot">
         <span></span>
      </div>
      <div class="bar left">
         <div class="progress">
         </div>
      </div>
      <div class="bar right">
         <div class="progress">
         </div>
      </div>
   </div>
</div>


</div>

<div id="GkgLeft">
<p id="kgLeft">
   15.5 kg igjen
</p>
</div>

<div id="Gexercise">
<p id="exercise">
   Benkpress
</p>
</div>

<div id="Gkg">
<p id="kg">
   130 kg
</p>
</div>

<div id="Gmsg">
<p id="msg">
   NÃ¦rmer deg!
</p>
</div>

</div>
`;

      Gbadges.innerHTML = html;

   } else {
      const html = `
      <div id="badge1" class="smallBadges"
            style="background: linear-gradient(to right bottom, #E36262, #972F2F); box-shadow: 6px 6px rgba(151,47,47, 0.4);">



            <!--
            <div id="c1b"></div>
            <div id="c2b"></div>
            <div id="c3b"></div>
            <div id="c4b"></div>
            <div id="c5b"></div>
            <div id="c6b"></div>
            -->

<div id="Gexercise">
<p id="exercise">
   Benkpress
</p>
</div>

<div id="Gkg">
<p id="kg">
   130 kg
</p>
</div>

<div id="Gmsg">
<p id="msg">
   3.5 kg igjen
</p>
</div>

</div>
`;

      Gbadges.innerHTML = html;
   }

   for (let i = 0; i < 50; i++) {
      document.getElementById("peopleWorkoutList").innerHTML += `test ${i}<br>`;
   }

</script>

</script>

</html>