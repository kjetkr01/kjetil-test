<!DOCTYPE html>
<html>

<head>
   <title>Ledertavler</title>

   <meta charset="utf-8" />

   <!-- manifest -->

   <link rel="manifest" href="manifest.json">

   <meta name="mobile-web-app-capable" content="yes">
   <meta name="apple-mobile-web-app-capable" content="yes">
   <meta name="application-name" content="Treningsstatestikk">
   <meta name="apple-mobile-web-app-title" content="Treningsstatestikk">
   <meta name="msapplication-starturl" content="/">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0">

   <link rel="icon" type="image/png" sizes="192x192" href="images/appIcon.png">
   <link rel="apple-touch-icon" type="image/png" sizes="192x192" href="images/appIcon.png">

   <!-- -->

   <link rel="stylesheet" href="styles/global.css">
   <link rel="stylesheet" href="styles/leaderboards.css">

   <script src="scripts/global.js" type="text/javascript"></script>
   <script src="scripts/validateInfo.js" type="text/javascript"></script>
   <script src="scripts/script.js" type="text/javascript"></script>

</head>

<body>

   <section id="page">

      <!-- spacing items-->

      <div id="e1r1"></div>
      <div id="e2r1"></div>
      <div id="e3r1"></div>
      <div id="e4r1"></div>

      <!-- -->

      <!-- content items-->

      <div id="c1r1"></div>
      <div id="c2r1"></div>

      <div id="c1r2"></div>
      <div id="c2r2"></div>
      <div id="c3r2"></div>
      <div id="c4r2"></div>
      <div id="c5r2"></div>
      <div id="c6r2"></div>

      <div id="c1r3"></div>
      <div id="c2r3"></div>

      <!-- -->

      <!-- element content items-->

      <!-- header -->

      <div id="Glinks">
         <table id="links">

         </table>
      </div>

      <!-- -->

      <!-- content/middle -->

      <div id="usermsg1G">
         <p id="usermsg1">
            
         </p>
      </div>

      <div id="listG">
         <table id="list">

         </table>
      </div>

      <div id="usersBtnG">
         <p id="usersBtn">

         </p>
      </div>

      <!-- -->

      <!-- footer -->

      <div id="Gfootermenu">
         <p id="footermenu">

         </p>
      </div>

      <!-- -->

   </section>

</body>

<script>

   displayLinks("links");
   checkColorTheme();

   getListOfTotalUsers();
        async function getListOfTotalUsers() {

            if (token && user) {

                const body = { "authToken": token, "userInfo": user, "numbersOnly": true};
                const url = `/users/list/all/leaderboards`;

                document.getElementById("usermsg1").innerHTML = loadingText;

                const resp = await callServerAPI(body, url);

                const totalLeaderboardUsers = document.getElementById("usermsg1");

                totalLeaderboardUsers.innerHTML = "";

                if (resp > 0) {

                  totalLeaderboardUsers.innerHTML += "Ledertavler for " + resp + " brukere!";

                    }else{
                     totalLeaderboardUsers.innerHTML += errorLoadingText;
                    }

                } else {
                  totalLeaderboardUsers.innerHTML += "Det er ingen brukere!";
                }
        }

   document.getElementById("usersBtn").innerHTML = `<button id="listButton" onClick='redirectToUsers();'>Brukere</button>`;
   let liste = ["Totalt", "Benkpress","Knebøy","Markløft"];

   const list = document.getElementById("list");

   for (let i = 0; i < liste.length; i++) {
      list.innerHTML += `
      
      <tr>
         <td><button id="listButton">${liste[i]}</button></td>
      </tr>

      `;
   }

   /*
   
   <tr>
         <th><button>Totalt</button></th>
         <th><button>Benkpress</button></th>
         <th><button>Knebøy</button></th>
         <th><button>Markløft</button></th>
      </tr>
      
      */

</script>

</html>